<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–°–∫–∞–Ω–µ—Ä –∫–∞—Ä—Ç—ã QR</title>
  <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 2em;
    }
    #result {
      margin-top: 1em;
      font-size: 1.2em;
      font-weight: bold;
    }
    a.button {
      display: inline-block;
      margin-top: 1em;
      padding: 0.7em 1.5em;
      background-color: #2a9d8f;
      color: white;
      border-radius: 8px;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <h2>üì∑ –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ —Å –Ω–æ–º–µ—Ä–æ–º –∫–∞—Ä—Ç—ã</h2>
  <div id="reader" style="width: 300px; margin: auto;"></div>
  <div id="result"></div>

  <script>
    function onScanSuccess(decodedText, decodedResult) {
      document.getElementById("result").innerText = "–ù–∞–π–¥–µ–Ω QR: " + decodedText;

      // Deep link –æ–±—Ä–∞—Ç–Ω–æ –≤ –±–æ—Ç–∞ —Å –Ω–æ–º–µ—Ä–æ–º –∫–∞—Ä—Ç—ã
      const telegramBotUsername = "phcrm_balance_bot"; // –±–µ–∑ @
      const deepLink = `https://t.me/${telegramBotUsername}?start=${decodedText}`;

      const link = document.createElement("a");
      link.href = deepLink;
      link.innerText = "üîó –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram";
      link.className = "button";
      document.getElementById("result").appendChild(document.createElement("br"));
      document.getElementById("result").appendChild(link);

      html5QrcodeScanner.clear(); // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∫–∞–Ω–µ—Ä
    }

    const html5QrcodeScanner = new Html5QrcodeScanner("reader", {
      fps: 10,
      qrbox: 250
    });
    html5QrcodeScanner.render(onScanSuccess);
  </script>
</body>
</html>
